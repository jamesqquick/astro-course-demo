---
import {getCollection} from "astro:content"
import {getAllCategories} from "../../utils/categories"

export const getStaticPaths = async () => {
    const posts = await getCollection("posts")
    const categories = getAllCategories(posts)
    const paths = categories.map(category => {
        return {
            params: {
                slug: category,
            },
        }
    })

    return paths
}

const {slug} = Astro.params

return Astro.redirect(`/category/${slug}/1`)
---
